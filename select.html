<!DOCTYPE html>
<html>
<body style = "background-color:powderblue;">
<head>
<link rel="stylesheet" type="text/css" href="select.css"/>
</head>

<script type='text/javascript'>
 $(document).ready(function() {
   $('input[name=coordinaten]').change(function(){
     $('form').submit();
   });
   $('input[name=coordinates]').change(function(){
     $('form').submit();
   });
   $('input[name=housesize]').change(function(){
     $('form').submit();
   });
});
</script>

<nav>
<ul>
  <li><a class="active" href="/">Home</a></li>
</ul>
</nav>

<script>
  function checkInput() {
    if (parseInt(document.getElementById('input').value, 10) < 0 || parseInt(document.getElementById('input').value, 10) > 180) {
      document.getElementById('error').style.display = 'block';
    } else {
      document.getElementById('error').style.display = 'none';
    };
  }
</script>

<body>
    <img src = "https://etc.usf.edu/maps/pages/800/815/815.jpg" alt = "Map">

    {{with $1:=.PageCoordinates}}

    <p style = "color: blue;"> What are your coordinates? </p>

      <form action="/selected" method="post">
          {{range $1}}
            <input type="text" name={{.Name}} id = "input" onkeyup= "checkInput();"> {{.Text}}
          {{end}}
          <br>
          <p style = "display: none; color:red" id = "error"> Please enter valid coordinate.</p>
          <p style = "color: blue;"> What is your house size? </p>
          <input type="text" name="housesize" > Size
          <br>
          <input type="submit" value="Submit" >
      </form>
      {{end}}



      <script type="text/javascript">
      function display() {
          if ( {{.Answer}} == "Albuquerque") {
              document.getElementById('albuquerque').style.display = 'block';
            } else if ( {{.Answer}} == "Anaheim") {
              document.getElementById('anaheim').style.display = 'block';
            }
    }
      </script>
  {{with $2:=.Answer}}
    <p style = "color: gray"><font face = "arial">Your closest city is {{$2}}.</font>
    {{end}}
  {{with $4:=.Value}}
   <p style = "color: gray"><font face = "arial">Your expected solar output is {{$4}} kwh. </font></p>
  {{end}}
<br>
<br>
<!--Albuquerque--><IMG STYLE="display: none; position:absolute; TOP:366px; LEFT:269px; WIDTH:50px; HEIGHT:50px" SRC="http://www.clker.com/cliparts/B/l/M/x/J/M/map-pin-red.svg"; id = "albuquerque">
<!--Anaheim--><IMG STYLE="display: none; position:absolute; TOP:375px; LEFT:87px; WIDTH:50px; HEIGHT:50px" SRC="http://www.clker.com/cliparts/B/l/M/x/J/M/map-pin-red.svg"; id = "anaheim">
<script type="text/javascript">
   display();
 </script>
</body>

</html>
